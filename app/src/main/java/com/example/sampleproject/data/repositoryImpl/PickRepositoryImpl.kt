package com.example.sampleproject.data.repositoryImpl

import android.arch.lifecycle.LiveData
import android.util.Log
import com.example.sampleproject.domain.CuratingContents
import com.example.sampleproject.data.repository.PickRepository
import com.google.gson.Gson
import com.google.gson.reflect.TypeToken
import io.reactivex.android.schedulers.AndroidSchedulers
import io.reactivex.rxkotlin.toObservable
import io.reactivex.schedulers.Schedulers
import javax.inject.Inject
import io.reactivex.*
import io.realm.Realm
import io.realm.RealmResults

class PickRepositoryImpl @Inject constructor(var realm: Realm, var gson: Gson) : PickRepository {

    override fun getContents(): Observable<CuratingContents> {
        var list = realm.copyFromRealm(realm.where(CuratingContents::class.java).findAll())
        if (list.isEmpty()) {
            val preMessage: ArrayList<CuratingContents> = gson.fromJson(
                "[{\"id\":66,\"title\":\"보헤미안 랩소디 짱이다\",\"teacher_nickname\":\"정성균\",\"profile_image_key\":null,\"created_at\":\"2018-11-15T07:35:18.471488Z\",\"like_count\":4,\"comment_count\":7,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/g-grafolio_4e6cf484301140c19fafed0dc28d9f5f.jpg\",\"view_count\":49},{\"id\":64,\"title\":\"한양대 궁금하냥?\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-15T01:35:18.471488Z\",\"like_count\":0,\"comment_count\":3,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/Webarebears_e1ef9e66fa0944a3bebc20a288d1f194.png\",\"view_count\":58},{\"id\":9,\"title\":\"최신 수리논술 트렌드\",\"teacher_nickname\":\"Bear Ice\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-13T19:28:55.906740Z\",\"like_count\":2,\"comment_count\":8,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/Webarebears_e1ef9e66fa0944a3bebc20a288d1f194.png\",\"view_count\":39},{\"id\":7,\"title\":\"Q&A Pick\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-01T05:06:59.097442Z\",\"like_count\":1,\"comment_count\":12,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/Webarebears_aa57259de744442f8185ad1f0bbe410a.png\",\"view_count\":35},{\"id\":6,\"title\":\"test2\",\"teacher_nickname\":\"hh\",\"profile_image_key\":\"994f491a-c838-48c0-870c-c33ceb6898f7\",\"created_at\":\"2018-10-25T22:11:44.414750Z\",\"like_count\":0,\"comment_count\":4,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/KakaoTalk_Photo_2018-08-28-20-56-51_a75d4c23253b4fcd87629bd381a993fb.jpeg\",\"view_count\":30},{\"id\":5,\"title\":\"test2\",\"teacher_nickname\":\"hh\",\"profile_image_key\":\"994f491a-c838-48c0-870c-c33ceb6898f7\",\"created_at\":\"2018-10-25T22:11:44.414749Z\",\"like_count\":0,\"comment_count\":0,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/KakaoTalk_Photo_2018-08-28-20-56-51_a75d4c23253b4fcd87629bd381a993fb.jpeg\",\"view_count\":11},{\"id\":72,\"title\":\"새 나라의 때지aaaaaaaaaa\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-12-04T06:55:12.663669Z\",\"like_count\":5,\"comment_count\":7,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/g-grafolio_9514d715476e4813b04a99a82cd8b130.jpg\",\"view_count\":106},{\"id\":71,\"title\":\"새 나라의 때지\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-28T02:02:33.056554Z\",\"like_count\":2,\"comment_count\":0,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%ED%94%BD_%EC%8D%B8%EB%84%A4%EC%9D%BC_9b2f61df375744bba6dc3892167d799f.jpg\",\"view_count\":37},{\"id\":70,\"title\":\"귀염귀염\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-22T02:44:06.353422Z\",\"like_count\":3,\"comment_count\":3,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/g-grafolio_fa77a6ae37234cc5a540574b772a32ca.jpg\",\"view_count\":50},{\"id\":69,\"title\":\"냠냠\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-20T01:39:53.133807Z\",\"like_count\":3,\"comment_count\":3,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/g-grafolio_94b3d135c90f46c78352e13a7c7d4d63.jpg\",\"view_count\":44},{\"id\":68,\"title\":\"테스트\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-19T06:39:00.871825Z\",\"like_count\":4,\"comment_count\":13,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/AUWTYAMVKUAF_fdcc3d616755484c81e153348d28573f.jpg\",\"view_count\":39},{\"id\":67,\"title\":\"테스트 컨텐츠\",\"teacher_nickname\":\"Jeeyu SEO\",\"profile_image_key\":\"e45d466c-f171-44e2-9622-a6b81e298916\",\"created_at\":\"2018-11-19T02:59:01.184103Z\",\"like_count\":2,\"comment_count\":10,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/AUWTYAMVKUAF_04b3123eb08c4779bca79ea6208cb09b.jpg\",\"view_count\":47},{\"id\":234,\"title\":\"(기본문법) 쉽게 배워보는 조동사\",\"teacher_nickname\":\"수박하\",\"profile_image_key\":null,\"created_at\":\"2019-04-17T08:31:12.605994Z\",\"like_count\":167,\"comment_count\":74,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/english-2724442_1920_f13d48f6028d40f890e3f552da77c89d.jpg\",\"view_count\":6690},{\"id\":233,\"title\":\"올해 첫 시험, 공부 계획!\",\"teacher_nickname\":\"얼죽아\",\"profile_image_key\":null,\"created_at\":\"2019-04-09T11:40:18.027816Z\",\"like_count\":416,\"comment_count\":281,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/time-3222267_640_e5a287d557054d598dc43878a97c4f76.jpg\",\"view_count\":12511},{\"id\":231,\"title\":\"수학 실력이 안늘어요ㅠㅠ\",\"teacher_nickname\":\"김선일\",\"profile_image_key\":\"ab07b7c3-b682-4055-bdcb-4efe92e53c4c\",\"created_at\":\"2019-03-25T11:52:59.956808Z\",\"like_count\":603,\"comment_count\":583,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/business-1868015_1920_31d2a9734eb4495e99ebe27bb77295cd.jpg\",\"view_count\":28042},{\"id\":230,\"title\":\"중학교 입학 첫 달\",\"teacher_nickname\":\"연대쌤\",\"profile_image_key\":\"74f3086d-97b0-4a7b-aa6e-1bfc55004b5e\",\"created_at\":\"2019-03-25T11:29:59.594889Z\",\"like_count\":258,\"comment_count\":239,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/upset-534103_1920_2b964c3a0fe94fcda16bc94ba92c922d.jpg\",\"view_count\":14184},{\"id\":190,\"title\":\"나는 문과인간? 이과인간?\",\"teacher_nickname\":\"늬네임\",\"profile_image_key\":\"6a5e9884-7d3b-43e0-859e-43f2ac7a02ba\",\"created_at\":\"2019-01-24T03:50:37.553538Z\",\"like_count\":222,\"comment_count\":251,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EB%AC%B8%EC%9D%B4%EA%B3%BC_e1426b3aed304124b8a77876b23f31fd.jpg\",\"view_count\":11865},{\"id\":189,\"title\":\"노가다로 수학 성적 상승시키기!\",\"teacher_nickname\":\"수학문제 암거나 다\",\"profile_image_key\":\"5e7abc9e-d475-4825-92d3-34a4fac1ba64\",\"created_at\":\"2019-01-23T05:43:30.048048Z\",\"like_count\":116,\"comment_count\":31,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EB%85%B8%EA%B0%80%EB%8B%A4_d4004654d5324605921ca05eb121ea91.jpg\",\"view_count\":6605},{\"id\":188,\"title\":\"기계공학과 가려면 물리를 해야할까요?\",\"teacher_nickname\":\"공돌이공룡\",\"profile_image_key\":\"8be9f19e-5813-4f37-acd6-d9a370f81568\",\"created_at\":\"2019-01-23T05:29:01.553270Z\",\"like_count\":18,\"comment_count\":11,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EA%B8%B0%EA%B3%B5_ebaeaf9fd6294d9cbd2a518171aa7ce5.jpg\",\"view_count\":2280},{\"id\":187,\"title\":\"우리집 마당에서 석유가 나온다면?\",\"teacher_nickname\":\"신의한수\",\"profile_image_key\":\"2d649cb7-11b2-4275-a014-30bc960f1037\",\"created_at\":\"2019-01-22T05:31:20.348283Z\",\"like_count\":61,\"comment_count\":118,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%84%9D%EC%9C%A0%EB%B6%80%EC%9E%90_6332f85de3884e0db770f53c3df26857.jpg\",\"view_count\":3370},{\"id\":186,\"title\":\"맞은 선지도 다시 보자\",\"teacher_nickname\":\"kkkgenie\",\"profile_image_key\":\"66fc62ff-bc9a-4109-b99c-852b472513ae\",\"created_at\":\"2019-01-22T05:15:55.076793Z\",\"like_count\":71,\"comment_count\":17,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%84%A0%EC%A7%80_%EA%B3%B5%EB%B6%80_f2cba173bc6642239a35fb9a8a73bfd9.jpg\",\"view_count\":4758},{\"id\":185,\"title\":\"계획 세우기 #1 #예비고3\",\"teacher_nickname\":\"크림치즈으\",\"profile_image_key\":\"5ec92049-1512-4d37-ab69-c19037da408f\",\"created_at\":\"2019-01-21T06:37:58.560258Z\",\"like_count\":95,\"comment_count\":14,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/24h-concept_23-2147502580_13b66c3853204b36ad1a8639ab0db8c4.jpg\",\"view_count\":3654},{\"id\":184,\"title\":\"헷갈리는 소금물 문제 정복\",\"teacher_nickname\":\"혁진몬\",\"profile_image_key\":\"3b25c937-0b5d-46d7-b492-40d9526d2640\",\"created_at\":\"2019-01-21T06:04:18.977446Z\",\"like_count\":133,\"comment_count\":33,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%86%8C%EA%B8%88%EB%AC%BC_836b77d46ade47b58b964b4a00f57800.JPG\",\"view_count\":3829},{\"id\":183,\"title\":\"기억력 향상! 빈칸 채우는 공부법!\",\"teacher_nickname\":\"dk\",\"profile_image_key\":\"eba6c3c0-f5cc-4281-a6dd-a925ffe0c56b\",\"created_at\":\"2019-01-18T07:28:57.488760Z\",\"like_count\":86,\"comment_count\":15,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/alzheimers-3068938_960_720_a146b05d2a894c3eb03f0a2520f9fa7c.jpg\",\"view_count\":4811},{\"id\":182,\"title\":\"친구랑 같이 공부하는 게 좋을까요?\",\"teacher_nickname\":\"리나\",\"profile_image_key\":\"00940e4e-dc62-4e65-87ed-c5926d820783\",\"created_at\":\"2019-01-18T06:22:04.727470Z\",\"like_count\":169,\"comment_count\":60,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/ggggg_383657c87c26445eb0c6684e740c5576.jpg\",\"view_count\":6591},{\"id\":181,\"title\":\"윤리와 사상 뽀개기\",\"teacher_nickname\":\"유리자하드\",\"profile_image_key\":\"76e25ff1-7a3a-4d66-8158-f34421dff096\",\"created_at\":\"2019-01-17T05:47:55.188835Z\",\"like_count\":57,\"comment_count\":3,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/image_8732465081490078967991_f2262e922c5d45e4aca4fc52e5ab779f.jpg\",\"view_count\":1359},{\"id\":180,\"title\":\"수학 선생님이 되는 방법 2 가지!\",\"teacher_nickname\":\"민슐랭\",\"profile_image_key\":\"6fbce054-f209-4881-b924-0f52c74443c5\",\"created_at\":\"2019-01-17T05:01:13.561233Z\",\"like_count\":46,\"comment_count\":14,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%88%98%ED%95%99%EC%84%A0%EC%83%9D%EB%8B%98_b849acbcf14648edbe78e82bfbcade3a.png\",\"view_count\":2439},{\"id\":179,\"title\":\"생각하는 수학 공부법\",\"teacher_nickname\":\"날다람\",\"profile_image_key\":\"e822bdbc-9729-4e42-a38f-b9818cb8207c\",\"created_at\":\"2019-01-16T05:09:43.753732Z\",\"like_count\":89,\"comment_count\":29,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%83%9D%EA%B0%81_bab6666aec2c43e9a5d90c6da4038a48.jpg\",\"view_count\":3945},{\"id\":178,\"title\":\"아 교복 진짜 싫다구요!\",\"teacher_nickname\":\"깔깔마녀\",\"profile_image_key\":\"e23defe8-6392-4090-aa2a-96ade9f835ab\",\"created_at\":\"2019-01-16T04:58:19.996115Z\",\"like_count\":297,\"comment_count\":208,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EA%B5%90%EB%B3%B5_eead84ad1cba4569aed7b5cd79bbee54.jpg\",\"view_count\":11084},{\"id\":177,\"title\":\"진짜 안외워지는 영어 문법 #4\",\"teacher_nickname\":\"꾹꾹\",\"profile_image_key\":\"d94993a7-8966-4175-b88e-0861ee16af8a\",\"created_at\":\"2019-01-15T06:12:37.810406Z\",\"like_count\":103,\"comment_count\":22,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/dk_dd45eaa3f48d427b9fdaa29e2c9c43a8.jpg\",\"view_count\":3195},{\"id\":176,\"title\":\"문제 속에 힌트가 있다!\",\"teacher_nickname\":\"KedL123\",\"profile_image_key\":\"ea02b711-35db-4d96-8286-28e019ee10e2\",\"created_at\":\"2019-01-15T05:03:44.357650Z\",\"like_count\":50,\"comment_count\":12,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%ED%94%BD2_0adde3cc1e814f25a9660fb9d019a7d4.png\",\"view_count\":4161},{\"id\":175,\"title\":\"오답노트를 작성하고 보질 않는다면?\",\"teacher_nickname\":\"이희리기\",\"profile_image_key\":\"896bb97d-8d48-4544-a023-1ee2a010a014\",\"created_at\":\"2019-01-14T06:51:26.253449Z\",\"like_count\":48,\"comment_count\":11,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%8A%A4%EB%A7%88%ED%8A%B8%ED%8F%B0_%EC%98%A4%EB%8B%B5%EB%85%B8%ED%8A%B8_25c92ec48dda4e899fee7679bcecd3ab.jpg\",\"view_count\":2395},{\"id\":174,\"title\":\"진짜 안외워지는 영어 문법 #3\",\"teacher_nickname\":\"꾹꾹\",\"profile_image_key\":\"d94993a7-8966-4175-b88e-0861ee16af8a\",\"created_at\":\"2019-01-14T06:22:40.986461Z\",\"like_count\":68,\"comment_count\":9,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%98%81%EC%96%B4%EB%AC%B8%EB%B2%95_%EC%9C%A0%EC%A6%88%EB%93%9C_7d5ea7495bb04d7d93901601a590d897.jpg\",\"view_count\":2717},{\"id\":173,\"title\":\"수학 개념 공부가 중요한 이유\",\"teacher_nickname\":\"뀨뀨뀨\",\"profile_image_key\":\"4ae0d0df-06bc-40a7-af3e-ffe5634cd0ea\",\"created_at\":\"2019-01-11T07:04:52.606432Z\",\"like_count\":113,\"comment_count\":22,\"tag\":1,\"is_liked\":0,\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/%EC%88%98%ED%95%99%EA%B0%9C%EB%85%90_482ddd1298ba4d93aed7762220d85ace.jpg\",\"view_count\":6189}]",
                object : TypeToken<ArrayList<CuratingContents>>() {}.type
            )
            realm.beginTransaction()
            realm.copyToRealmOrUpdate(preMessage)
            realm.commitTransaction()
        }
        return list.toObservable().subscribeOn(Schedulers.io())
            .observeOn(AndroidSchedulers.mainThread())
    }

    override fun getLikedContents(): RealmResults<CuratingContents> {
        return realm.where(CuratingContents::class.java).equalTo(
            "isLiked", 1.toInt()
        ).findAll()
    }

    override fun getDetailContents(): Single<CuratingContents> {
        var preMessage: CuratingContents = gson.fromJson<CuratingContents>(
            " {\n" + "        \"id\": 234,\n" + "        \"title\": \"(기본문법) 쉽게 배워보는 조동사\",\n" + "        \"teacher_nickname\": \"수박하\",\n" + "        \"profile_image_key\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\",\n" + "        \"messages\": [\n" + "            {\n" + "                \"message\": \"쌤\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": \"https:\\/\\/s3.ap-northeast-2.amazonaws.com\\/soolgitbucket01\\/ETC\\/image.jpg\",\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"요새 '조동사' 배우나요?!\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"넴 ㅜㅜ 쌤 어법이 너무 어려워여ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"제가 아직 초등학생이라ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"저 다섯 문장 중에서 조동사가 뭔지 한 번 찾아볼래요?\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"움 can이랑 will이요?\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"네 잘 찾았어요!ㅎㅎㅎ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"'조'동사는 동사를 도와주는, 보조해주는 동사예요\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"문제에 나온 can - (동사)를 할 수 있다,\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"will - (동사)를 할 것이다 처럼\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"동사가 가진 기본 뜻에 다양한\\/특정한 의미를 더해줄 수 있는 게 조동사예요!\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"넹... ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"그럼 조동사 다음에 동사가 더 나와야 문장 의미가 완성되겠죠?\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"그런데!\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"조동사 다음에 오는 동사는 '동사원형'만 올 수 있어요!\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"동사원형이요? 수업때 배우긴 했는데ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"네ㅎㅎ 동사의 기본 형태? go, sing, dance 같이\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"아 보기에 워너원이 나와서ㅋㅋㅋㅋ워너원 노래중에 make me feel so high\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"여기에서 feel도 동사원형이에요.\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"앜ㅋㅋㅋㅋㅋㅋㅋ쌤ㅋㅋㅋ워너블이신가여\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"들켰당ㅎㅎㅎㅎㅎ 암튼 동사원형은 문법에서도 이곳저곳 많이 쓰이니 잘 알아두세여!ㅋㅋㅋ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"보기 3번을 보면, BTS will dances with the music에서\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"will 다음에 dances가 왔는데, dances의 원형은 dance 죠!\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"그래서 정리하자면 답은 3번이구\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"3번이 잘못된 이유는 조동사(can, will) 다음에는 동사원형이 와야 하기 때문이에요 ㅎㅎ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"앟ㅎㅎ 제가 뭔가 포인트를 잘 몰랐던 것 같네여ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"아 근데 쌤 해석도 해주실 수 있나요ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"음...잠시만 기다려주세여\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"초등학생이시라니까 자세히 써볼게여\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"여기\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": \"http:\\/\\/qanda-storage.s3.amazonaws.com\\/c3e895f0-01c8-43eb-93c5-0df20c3b4254.jpg\",\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"완전 엄밀하게 쓴 건 아닌데 ㅎㅎㅎ 그래도 이해를 도울 수 있게 써봤어요\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"우왕 ㅠ.ㅠ 감사합니다 쌤 ㅠㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"워너블이시라니 막 정도 가고ㅠ.ㅠ 감사해욤\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ친구도워너블이에요?ㅋㅋㅋㅋㅋ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"저는 아미ㅎㅎㅎㅎ 그래도 뭔가 쌤도 아이돌 팬이시라구 하니까 ㅎㅎㅎ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"ㅋㅋㅋㅋㅋ워너원과 함께 고3을 보냈어요ㅠㅠㅠ...특히대휘ㅠㅠㅠㅠㅠ...\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"bts 무대영상 보면 부모님은 안좋아하고ㅠ 공부 안하는 줄 알고ㅠ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"쌤도 워너블이라니까 위안이 되네요ㅠ.ㅠ^!\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"ㅋㅋㅋㅋ위로가 많이 되었쬬... 수능 끝나고 워너원 콘서트 갔을떄ㅠㅠㅠㅠㅠㅠㅠㅠㄹㅇ감동이말할수없었어요ㅠㅠㅠㅠ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"친구도 최애 보면서 위안두 얻고 앞으로 힘든 공부도 힘내길 바래요ㅠㅜ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"그리구 아직 초등학생이시니까!!! 문법 어려워도 차근차근 하면 될거에요\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"녜 열심히 해볼게요 감사합니닿ㅎ.ㅎ!\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            },\n" + "            {\n" + "                \"message\": \"아미친구도 응원할게요ㅜㅠ!!!ㅠㅠ...\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"ㅋㅋㅋㅋㅋㅋㅋㅋㅋ하성운이랑 지민도 절친이구(?)ㅋㅋㅋㅋㅋㅋ\",\n" + "                \"chat_type\": 1,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": \"https://s3.ap-northeast-2.amazonaws.com/soolgitbucket01/ETC/profile.jpg\"\n" + "            },\n" + "            {\n" + "                \"message\": \"넹ㅋㅋㅋㅋㅋ\",\n" + "                \"chat_type\": 2,\n" + "                \"image_url\": null,\n" + "                \"user_nickname\": \"수박하\",\n" + "                \"profile_image\": null\n" + "            }\n" + "        ],\n" + "        \"created_at\": \"2019-04-17T08:31:12.605994Z\",\n" + "        \"like_count\": 106,\n" + "        \"comment_count\": 20,\n" + "        \"is_liked\": 0,\n" + "        \"thumbnail\": \"https:\\/\\/qanda-server-storage.s3.amazonaws.com\\/uploads\\/curation\\/cotents\\/english-2724442_1920_f13d48f6028d40f890e3f552da77c89d.jpg\",\n" + "        \"tag\": 1,\n" + "        \"view_count\": 4362,\n" + "        \"is_bookmark\": 0\n" + "    }",
            CuratingContents::class.java
        )
        return Single.just(preMessage).subscribeOn(Schedulers.computation())
            .observeOn(AndroidSchedulers.mainThread())
    }

    override fun getRelatedContents(): Single<ArrayList<CuratingContents>> {
        var preMessage: ArrayList<CuratingContents> = gson.fromJson(
            "\n" + "[\n" + "{\n" + "\"id\":233,\n" + "\"title\":\"올해 첫 시험, 공부 계획!\",\n" + "\"teacher_nickname\":\"얼죽아\",\n" + "\"profile_image_key\":null,\n" + "\"created_at\":\"2019-04-09T11:40:18.027816Z\",\n" + "\"like_count\":338,\n" + "\"comment_count\":184,\n" + "\"tag\":1,\n" + "\"is_liked\":0,\n" + "\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/time-3222267_640_e5a287d557054d598dc43878a97c4f76.jpg\",\n" + "\"view_count\":9988\n" + "},\n" + "{\n" + "\"id\":231,\n" + "\"title\":\"수학 실력이 안늘어요ㅠㅠ\",\n" + "\"teacher_nickname\":\"김선일\",\n" + "\"profile_image_key\":\"4297a793-e2f3-4397-8a1c-cb7bc1897fe0\",\n" + "\"created_at\":\"2019-03-25T11:52:59.956808Z\",\n" + "\"like_count\":538,\n" + "\"comment_count\":442,\n" + "\"tag\":1,\n" + "\"is_liked\":0,\n" + "\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/business-1868015_1920_31d2a9734eb4495e99ebe27bb77295cd.jpg\",\n" + "\"view_count\":24523\n" + "},\n" + "{\n" + "\"id\":230,\n" + "\"title\":\"중학교 입학 첫 달\",\n" + "\"teacher_nickname\":\"연대쌤\",\n" + "\"profile_image_key\":\"74f3086d-97b0-4a7b-aa6e-1bfc55004b5e\",\n" + "\"created_at\":\"2019-03-25T11:29:59.594889Z\",\n" + "\"like_count\":227,\n" + "\"comment_count\":183,\n" + "\"tag\":1,\n" + "\"is_liked\":0,\n" + "\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/upset-534103_1920_2b964c3a0fe94fcda16bc94ba92c922d.jpg\",\n" + "\"view_count\":11913\n" + "},\n" + "{\n" + "\"id\":229,\n" + "\"title\":\"첫 모의고사.. 영어 시간 단축ㅠㅠ\",\n" + "\"teacher_nickname\":\"콴다킹\",\n" + "\"profile_image_key\":\"3341be3d-73ce-4236-bf3f-c4cc9cf930de\",\n" + "\"created_at\":\"2019-03-14T09:46:43.983536Z\",\n" + "\"like_count\":167,\n" + "\"comment_count\":110,\n" + "\"tag\":1,\n" + "\"is_liked\":0,\n" + "\"thumbnail\":\"https://qanda-server-storage.s3.amazonaws.com/uploads/curation/cotents/homework-2521144_1920_dd39c40f03594ede9a40898ccfdabd51.jpg\",\n" + "\"view_count\":12162\n" + "}\n" + "]",
            object : TypeToken<ArrayList<CuratingContents>>() {}.type
        )
        return Single.just(preMessage).subscribeOn(Schedulers.computation())
            .observeOn(AndroidSchedulers.mainThread())
    }

    override fun updateLike(contentId: Int) {
        realm.executeTransaction {
            var list = realm.where(CuratingContents::class.java).equalTo("id", contentId).findFirst()
            if (list?.isLiked == 1) list?.isLiked = 0 else list?.isLiked = 1
        }
    }

}